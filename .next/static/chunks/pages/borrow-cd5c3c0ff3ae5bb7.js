(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{70024:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/borrow",function(){return o(26401)}])},92424:function(e,t,o){"use strict";var n=o(85893),s=o(67294),a=o(95712),r=o(9008),l=o(50262),i=o(59567),c=o.n(i);o(25675);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var f=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=p(e);if(t){var s=p(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return g(this,o)}}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(p,e);var t,o,s,i=m(p);function p(){return d(this,p),i.apply(this,arguments)}return t=p,(o=[{key:"render",value:function(){return(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(r.default,{children:[(0,n.jsx)("title",{children:"Kopa | Lipa"}),(0,n.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}),(0,n.jsx)("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css"})]}),(0,n.jsx)("section",{className:c().sectionStyle,children:(0,n.jsx)("div",{className:c().behaveLikenav,children:(0,n.jsx)("div",{children:(0,n.jsxs)("form",{className:c().inlineForm,children:[(0,n.jsx)("p",{className:c().brand,children:"BRAND"}),(0,n.jsx)("input",{type:"text",placeholder:"Search contract or borrower address...",id:c().search}),(0,n.jsx)("img",{src:"/static/images/magnifying-glass.png",alt:"search-icon",height:33,width:33,className:c().searchIcon,title:"Search"}),(0,n.jsx)(l.Link,{route:"https://www.google.com",children:(0,n.jsx)("a",{className:c().aboutUs,children:(0,n.jsx)("span",{children:"ABOUT US"})})}),(0,n.jsx)(l.Link,{route:"https://www.instagram.com/",children:(0,n.jsx)("a",{className:c().aboutGuide,children:(0,n.jsx)("span",{children:"GUIDE"})})}),(0,n.jsx)(l.Link,{route:"/profile/",children:(0,n.jsx)("img",{src:"/static/images/user-grey.png",alt:"Profile",height:40,width:40,className:c().proPic,title:"Profile"})})]})})})})]})}}])&&u(t.prototype,o),s&&u(t,s),p}(s.Component);t.Z=b},26401:function(e,t,o){"use strict";o.r(t);var n=o(34051),s=o.n(n),a=o(85893),r=o(67294),l=o(54347),i=o.n(l),c=o(92424),d=o(81819),u=o(80967),p=o(51837),g=o(58697),h=o(72248),f=o(50262);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,o,n,s,a,r){try{var l=e[a](r),i=l.value}catch(c){return void o(c)}l.done?t(i):Promise.resolve(i).then(n,s)}function y(e){return function(){var t=this,o=arguments;return new Promise((function(n,s){var a=e.apply(t,o);function r(e){b(a,n,s,r,l,"next",e)}function l(e){b(a,n,s,r,l,"throw",e)}r(void 0)}))}}function x(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function v(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?m(e):t}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}var _=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=w(e);if(t){var s=w(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return v(this,o)}}var A=o(27596),C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(b,e);var t,o,n,l=I(b);function b(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),k(m(t=l.call(this,e)),"state",{nameOfNFT:"",jsonUrl:"",loading:!1,loading1:!1,alreadyContainedAddress:"",errorMessage:"",alreadyContainedAddress1:"",alreadyAddedAssets:[{tokenId:0,dataUrl:"dummy"}],previewInitialMessage:"ZERO ASSETS ADDED.",init:1,urlObj:[],idsObj:[],updateIdsObj:[],updateUrlObj:[],imHoldingUrlForLoadToNotUploadedYet:[],imHoldingIdsForLoadToNotUploadedYet:[],pureLoadingCountIds:[],pureLoadingCountUrls:[],pureLoadingCleanUrlWithImage:[],amountToBorrow:0,durationToPayback:0,collateralAssets:[],bigBenzLoading:!1});var o=m(t);k(m(t),"finishHim",y(s().mark((function e(){var t,n,a,r,l,i,c,d,u,p,m,b,y,x,k,w;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({bigBenzLoading:!0}),console.log(o.state.amountToBorrow,o.state.durationToPayback,o.state.idsObj),console.log(o.state.alreadyContainedAddress,o.state.alreadyContainedAddress1),t=o.state.idsObj,n=t.map((function(e){return parseInt(e)-1})),a=o.state.amountToBorrow,e.next=8,h.Z.utils.toWei(a.toString(),"ether");case 8:return r=e.sent,console.log("This is the amount in wei"+r),l=o.state.durationToPayback,console.log(n),console.log("I should convert this in the correct format of the nftToken stored inside the solidity since this one is greater than 1"),e.next=15,(0,g.Z)(o.state.alreadyContainedAddress);case 15:return i=e.sent,console.log(o.props.address),console.log(i),console.log("In solidity we expect amount in wei to be integer and duration to be integer"),console.log("undefined"===typeof r?"undefined":_(r)),console.log("undefined"===typeof l?"undefined":_(l)),console.log("undefined"===typeof n?"undefined":_(n)),console.log(n),c=parseInt(a),d=parseInt(l),console.log("undefined"===typeof c?"undefined":_(c),"undefined"===typeof d?"undefined":_(d)),console.log(c,d),e.next=29,i.methods.nakopa(c,d,n).send({from:o.props.address});case 29:return u=e.sent,e.next=32,(0,g.Z)(o.state.alreadyContainedAddress);case 32:return p=e.sent,e.next=35,p.methods.lengthOfDeniDetailsRequest().call();case 35:return m=e.sent,b=m-1,console.log("This is the index of last added deniDetails "+b),e.next=40,p.methods.deniDetailsList(b).call();case 40:return y=e.sent,x=y.madeAt,console.log(x+" This is the timestamp that we want, good job guyz"),e.next=45,p.methods.createdeniDetailCollateralAssets(x,n).send({from:o.props.address});case 45:return k=e.sent,console.log("this is output we get"),console.log(k),console.log("This is nakopaPromise"),console.log(u),e.next=52,i.methods.lengthOfDeniDetailsRequest().call();case 52:w=e.sent,console.log("This is then length of DeniDetails "+w),f.Router.pushRoute("/");case 55:case"end":return e.stop()}}),e)}))));var n=m(t);k(m(t),"renderPreviewItems",function(){var e=y(s().mark((function e(t){var o,a,r,l,i,c,d,u,p,g,h,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Hey lil bitch hoow  are you!"),console.log(t),console.log("above is a element of listOfObj"),t=t.filter((function(e,t,o){return t==o.findIndex((function(t){return t.tokenId===e.tokenId}))})),console.log(t),console.log("Below is updated listOfObj element"),o={},a=n.state.init,{},1!=t.length){e.next=13;break}n.previewWrapper.current.style.display="flex",console.log("IM inside the if statement this means the user didn't add any nft"),e.next=97;break;case 13:console.log("Im outside means a user has minted or add nft.."),r=n.state.updateIdsObj,l=n.state.updateUrlObj,console.log("HEY THIS IS INITIAL STATES OF UPDATESIDS AND UPDATEURL"),console.log(r,l),console.log("Check them when you delete element there.... or add another"),e.prev=19,console.log(t.length),console.log("Above is length of alreadyAddedAssets"),console.log(a+"This is i for you... initially we set it to start from 1.. naona inashindwa kuingia humu kwenye for loop");case 24:if(!(a<t.length)){e.next=72;break}return console.log("IM inside the for statement trying to loop data"),console.log(t[a].tokenId),i=t[a].tokenId,console.log("Already printed.."),console.log(t[a].dataUrl),console.log("above is printed url.."),o[i]=t[a].dataUrl,console.log(o),console.log("Tupo hapa za juu zote zimekubali..."),c=o[t[a].tokenId],console.log("Hapa vipi....."),e.next=38,fetch(c);case 38:if(d=e.sent,console.log(d.status),d.ok){e.next=44;break}console.log("Problem with this url "),n.setState({errorMessage:"Problem with this metadata, enter the valid url"}),console.log(n.errorBlock.current),n.errorBlock.current.style.display="block",console.log(n.errorBlock.current),setTimeout((function(){n.errorBlock.current.style.display="none",n.setState({errorMessage:""})}),1e4),e.next=68;break;case 44:return console.log("Im going to try to parse response in json format..."),e.next=47,d.json();case 47:u=e.sent,console.log(u),console.log("Above are data for you"),p=u.image,console.log(p),console.log("Hadi hapa nimefanya vizuri... ngoja tuone huko chini"),g=l.concat(p),l=(l=g).filter((function(e,t,o){return l.indexOf(e)===t})),console.log(l,r),console.log(n.state.updateIdsObj,n.state.updateIdsObj),console.log("Above are saying is updated urlObj"),h=r.concat(t[a].tokenId),console.log(h),r=(r=h).filter((function(e,t,o){return r.indexOf(e)===t})),console.log(l,r),console.log("Above is update token idsObj"),console.log(n.state.urlObj),console.log(n.state.idsObj),console.log("Till here above code worked good for now I already updated the state of urlObj and idsObj");case 68:console.log("Till now is all things correct..... Waoooh Good Job!");case 69:a++,e.next=24;break;case 72:return console.log(r),n.state.idsObj.concat(r),n.state.urlObj.concat(l),console.log(l),f=n.state.init+1,console.log("How about here"),e.next=80,n.setState({urlObj:l,idsObj:r,updateIdsObj:r,updateUrlObj:l,init:f});case 80:console.log("Hey fuck you react..... "),console.log(n.state.urlObj),console.log(n.state.idsObj),console.log(n.state.updateIdsObj),console.log(n.state.updateUrlObj),console.log("these is updated states above"),console.log(n.previewWrapper1.current),console.log(n.previewWrapper.current),n.previewWrapper.current.style.display="none",n.previewWrapper1.current.style.display="block",n.previewWrapper1.current.style.height="auto",console.log(n.previewWrapper1.current),e.next=97;break;case 94:e.prev=94,e.t0=e.catch(19),console.log("Failed to execute above block");case 97:case"end":return e.stop()}}),e,null,[[19,94]])})));return function(t){return e.apply(this,arguments)}}()),k(m(t),"onDrop",(function(e){console.log(e.target);var o=e.target.id;console.log(o),console.log("This is index to remove "+o);var n=t.state.urlObj,s=t.state.idsObj;console.log("this is states before removing that element."),console.log(t.state.updateIdsObj,t.state.updateUrlObj),console.log(t.state.urlObj,t.state.idsObj),console.log("this is the END ONE"),s.splice(o,1),n.splice(o,1),t.setState({urlObj:n,idsObj:s,updateIdsObj:s,updateUrlObj:n,init:t.state.init-1}),console.log("See above setState if it worked as Async"),console.log(t.state.updateIdsObj,t.state.updateUrlObj),console.log("This is the updated version of these states...."),console.log(t.state.urlObj,t.state.idsObj,t.state.updateIdsObj,t.state.updateUrlObj),0==t.state.urlObj.length&&(t.previewWrapper.current.style.display="flex",t.previewWrapper1.current.style.display="none")}));var a=m(t);k(m(t),"onAddLoadedNft",function(){var e=y(s().mark((function e(t){var o,n,r,l,i,c,d,u,p,g,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.target),o=t.target.alt,console.log(o),console.log("Above is asset index for you!"),n=a.state.pureLoadingCountIds[o],console.log(n),r=a.state.pureLoadingCountUrls[o],(l={}).tokenId=n.toString(),l.dataUrl=r,console.log(l),console.log(a.state.alreadyAddedAssets),console.log("above is the aaa with length of "+a.state.alreadyAddedAssets.length),i=[],c=a.state.alreadyAddedAssets,d=0;case 16:if(!(d<c.length)){e.next=34;break}if(console.log(c[d]),console.log(l.tokenId,c[d].tokenId),console.log("this is values going to be tested inside the if "),l.tokenId!=c[d].tokenId){e.next=25;break}return console.log("We are the same!"),e.abrupt("continue",31);case 25:return console.log("We are different!"),i=l,console.log(a.state.alreadyAddedAssets),e.next=30,a.setState((function(e){return{alreadyAddedAssets:e.alreadyAddedAssets.concat(l)}}));case 30:return e.abrupt("break",34);case 31:d++,e.next=16;break;case 34:return console.log("loading state before being updated"),console.log(a.state.pureLoadingCountIds,a.state.pureLoadingCountUrls,a.state.pureLoadingCleanUrlWithImage),console.log("This is the asset_index to remove "+o),u=a.state.pureLoadingCountIds,p=a.state.pureLoadingCountUrls,g=a.state.pureLoadingCleanUrlWithImage,u.splice(o,1),p.splice(o,1),g.splice(o,1),e.next=45,a.setState((function(e){return{pureLoadingCountIds:u,pureLoadingCountUrls:p,pureLoadingCleanUrlWithImage:g}}));case 45:return console.log("loading state after being updated"),console.log(a.state.pureLoadingCountIds,a.state.pureLoadingCountUrls,a.state.pureLoadingCleanUrlWithImage),console.log(i),console.log("Outside the for loop"),console.log(a.state.alreadyAddedAssets),h=a.state.alreadyAddedAssets.filter((function(e,t,o){return t===o.findIndex((function(t){return t.tokenId===e.tokenId}))})),console.log("Below is pure aad with zero duplicates.."),console.log(h),e.next=55,a.setState({alreadyAddedAssets:h});case 55:console.log("This below is updated aad...."),console.log(a.state.alreadyAddedAssets),a.state.updateIdsObj,a.state.updateUrlObj,a.renderPreviewItems(a.state.alreadyAddedAssets);case 60:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var i=m(t);k(m(t),"onAdd",y(s().mark((function e(){var t,o,n,a,r,l,c,d,u,h,f,m,b,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({loading:!0}),e.next=3,p.Z.methods.getDeployedMikopo().call();case 3:if(t=e.sent,console.log("This is deployed mikopo contract addresses."),console.log(t),0!=t.length){e.next=10;break}o=i.popElem.current,i.setState({loading:!1}),i.toHide.current.style.display="none",o.style.display="block",e.next=51;break;case 10:a=new Array,r=new Array,l=0;case 14:if(!(l<t.length)){e.next=27;break}return e.next=17,(0,g.Z)(t[l]);case 17:return c=e.sent,e.next=20,c.methods.owner().call();case 20:d=e.sent,a.push(d),r.push(d.toLowerCase()),d.toLowerCase()==i.props.address.toLowerCase()&&(n=t[l],console.log(n),console.log("You should contain value if you passed this if"),i.setState({alreadyContainedAddress:n}));case 24:l++,e.next=14;break;case 27:if(console.log(a+" this is managers for you"),console.log(r),console.log(i.props.address),u=i.props.address,h=u.toLowerCase(),!r.includes(h)){e.next=50;break}return console.log("This is  the desired address for you!!!!"),console.log(n),e.next=37,(0,g.Z)(n);case 37:return f=e.sent,console.log(f),e.next=41,f.methods.NFTName().call();case 41:m=e.sent,i.setState({nameOfNFT:m}),console.log("Kama kuna address ambayo imekua deployed na hii contract then show popElem1... second popElem"),b=i.popElem1.current,i.setState({loading:!1}),i.toHide.current.style.display="none",b.style.display="block",e.next=51;break;case 50:console.log("IM outside"),y=i.popElem.current,i.setState({loading:!1}),i.toHide.current.style.display="none",y.style.display="block";case 51:case"end":return e.stop()}}),e)}))));var c=m(t);k(m(t),"onLoad",y(s().mark((function e(){var t,o,n,a,r,l,i,d,u,h,f,m,b,y,x,k,w,v,j,_,I,A,C,O,S,T,N,L,U,B,P,Z,E,R,W,M,D,H,F,z,Y,G,q,J,X,K,Q;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({loading1:!0}),e.next=3,p.Z.methods.getDeployedMikopo().call();case 3:if(0!=(t=e.sent).length){e.next=8;break}o=c.loadContainer1,c.toHide.current.style.display="none",o.current.style.display="block",c.setState({loading1:!1}),e.next=198;break;case 8:a=new Array,r=new Array,l=0;case 12:if(!(l<t.length)){e.next=198;break}return e.next=15,(0,g.Z)(t[l]);case 15:return i=e.sent,e.next=18,i.methods.owner().call();case 18:if(d=e.sent,a.push(d),r.push(d.toLowerCase()),d.toLowerCase()!=c.props.address.toLowerCase()){e.next=194;break}return n=t[l],c.setState({alreadyContainedAddress:n}),e.next=26,(0,g.Z)(n);case 26:return u=e.sent,e.next=29,u.methods.getNFTIndexes().call();case 29:h=e.sent,console.log("This is grabbed uploaded id of assets..."),console.log(h),console.log("We are outside"),f=[],m=0;case 35:if(!(m<h.length)){e.next=47;break}return e.next=38,u.methods.closedAssets(h[m]).call();case 38:if(0!=e.sent){e.next=43;break}f.push(h[m]),e.next=44;break;case 43:return e.abrupt("continue",44);case 44:m++,e.next=35;break;case 47:if(0!=(h=f).length){e.next=52;break}b=c.loadContainer1,c.setState({loading1:!1}),c.toHide.current.style.display="none",b.current.style.display="block",e.next=192;break;case 52:if(console.log("Long time ago"),console.log(c.state.urlObj,c.state.idsObj,c.state.updateIdsObj,c.state.updateUrlObj),0!=(y=c.state.idsObj).length){e.next=115;break}for(console.log("Hello Your my Friend"),console.log("Ok we have zero alreadyAddedIds but we have got some already added or minted nft assets so we should display them on loading"),x=[],k=0;k<h.length;k++)x.push(parseInt(h[k])+parseInt(1));return w=[],v=[],j=[],e.next=65,(0,g.Z)(n);case 65:_=e.sent,I=0;case 67:if(!(I<x.length)){e.next=76;break}return e.next=70,_.methods.nftData(parseInt(x[I]-1),c.props.address).call();case 70:A=e.sent,w.push(parseInt(x[I]-1)),v.push(A);case 73:I++,e.next=67;break;case 76:console.log(v),console.log("Above are metadata urls of all minted urls when alreadyAddedAssets length is 0"),C=0;case 79:if(!(C<v.length)){e.next=96;break}if(""!==v[C]){e.next=84;break}return e.abrupt("continue",93);case 84:return O=v[C],e.next=87,fetch(O);case 87:return S=e.sent,e.next=90,S.json();case 90:T=e.sent,N=T.image,j.push(N);case 93:C++,e.next=79;break;case 96:console.log(j,v,x),L=0;case 98:if(!(L<j.length)){e.next=107;break}if(!c.state.pureLoadingCleanUrlWithImage.includes(j[L])){e.next=103;break}return e.abrupt("continue",104);case 103:c.setState({pureLoadingCleanUrlWithImage:c.state.pureLoadingCleanUrlWithImage.concat(j[L]),pureLoadingCountIds:c.state.pureLoadingCountIds.concat(x[L]),pureLoadingCountUrls:c.state.pureLoadingCountUrls.concat(v[L])});case 104:L++,e.next=98;break;case 107:console.log("Below is updated states....."),console.log(c.state.pureLoadingCleanUrlWithImage,c.state.pureLoadingCountIds,c.state.pureLoadingCountUrls),U=c.loadContainer,c.setState({loading1:!1}),c.toHide.current.style.display="none",U.current.style.display="block",e.next=192;break;case 115:for(console.log(y),console.log("This is comparison between alreadyAddedIds and returned urlIdsIndexes returned from solidity"),console.log(y,h),B=[],P=0;P<h.length;P++)console.log(h[P]),console.log(parseInt(h[P])+parseInt(1)),B.push(parseInt(h[P])+parseInt(1));if(console.log("This below is comparison between updatedNftUrlIndexes andNftUrlIndexes"),console.log(h,B),console.log("Outside, outside."),Z=B.filter((function(e){return!y.includes(e.toString())})),console.log("This is comparison between alreadyAddedIds and pureCountIds"),console.log(y,Z),E=[],R=[],W=[],0!=Z.length){e.next=133;break}M=c.loadContainer1,c.setState({loading1:!1}),c.toHide.current.style.display="none",M.current.style.display="block",e.next=192;break;case 133:return console.log("You have some nft to load!"),e.next=136,(0,g.Z)(n);case 136:return D=e.sent,console.log("We are inside the else statement and this below is purCountIds array"),console.log(Z),e.t0=console,e.next=142,D.methods.nftData(1,c.props.address).call();case 142:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),console.log("This above is metadata url of first minted nft asset, ngoja tuone je ni kweli id inaanza na 1 au 2"),console.log("Kama nime-prove kuwa id ya nft asset inaanza na 1... But sijui ni kwa nini niki-asset asset inaniletea id ya 2... But ushaelewa hapo coz nimeprint nimeona kitu kama hicho..."),H=0;case 147:if(!(H<Z.length)){e.next=158;break}return console.log("Kama nime-prove kuwa id ya nft asset inaanza na 1... But sijui ni kwa nini niki-asset asset inaniletea id ya 2... But ushaelewa hapo coz nimeprint nimeona kitu kama hicho..."),e.next=151,D.methods.nftData(parseInt(Z[H]-1),c.props.address).call();case 151:F=e.sent,console.log(F),E.push(parseInt(Z[H]-1)),R.push(F);case 155:H++,e.next=147;break;case 158:console.log(R),console.log("Above are metadata urls for you to display them to the user!"),z=0;case 161:if(!(z<R.length)){e.next=174;break}return Y=R[z],e.next=165,fetch(Y);case 165:return G=e.sent,e.next=168,G.json();case 168:q=e.sent,J=q.image,W.push(J);case 171:z++,e.next=161;break;case 174:console.log(W,Z,R),console.log("Above is the data found before try to assign them to the state"),X=0;case 177:if(!(X<W.length)){e.next=186;break}if(!c.state.pureLoadingCleanUrlWithImage.includes(W[X])){e.next=182;break}return e.abrupt("continue",183);case 182:c.setState({pureLoadingCleanUrlWithImage:c.state.pureLoadingCleanUrlWithImage.concat(W[X]),pureLoadingCountIds:c.state.pureLoadingCountIds.concat(Z[X]),pureLoadingCountUrls:c.state.pureLoadingCountUrls.concat(R[X])});case 183:X++,e.next=177;break;case 186:console.log("Below is updated states......"),console.log(c.state.pureLoadingCleanUrlWithImage,c.state.pureLoadingCountIds,c.state.pureLoadingCountUrls),K=c.loadContainer,c.setState({loading1:!1}),c.toHide.current.style.display="none",K.current.style.display="block";case 192:e.next=195;break;case 194:Q=c.loadContainer1,c.setState({loading1:!1}),c.toHide.current.style.display="none",Q.current.style.display="block";case 195:l++,e.next=12;break;case 198:case"end":return e.stop()}}),e)})))),k(m(t),"onRemove",(function(){var e=t.popElem.current;t.toHide.current.style.display="block",e.style.display="none"})),k(m(t),"onRemove0",(function(){var e=t.loadContainer;t.toHide.current.style.display="block",e.current.style.display="none"})),k(m(t),"onRemove7",(function(){var e=t.loadContainer1;t.toHide.current.style.display="block",e.current.style.display="none"})),k(m(t),"onRemove1",(function(){var e=t.popElem1.current;t.toHide.current.style.display="block",e.style.display="none"}));var d=m(t);k(m(t),"onSub1",y(s().mark((function e(){var t,o,n,a,r,l,i,c,u,f,m,b,y,x,k;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.setState({loading:!0}),t=d.state.nameOfNFT,console.log(t),o=d.state.jsonUrl,console.log(o),e.prev=5,e.next=8,fetch(o);case 8:if((n=e.sent).ok){e.next=13;break}console.log("Problem with this url!"),d.setState({errorMessage:"Problem with this url"}),d.errorBlock.current.style.display="block",setTimeout((function(){d.errorBlock.current.style.display="none",d.setState({errorMessage:""})}),1e4),d.errorBlock.current.style.display="none",d.setState({loading:!1}),e.next=82;break;case 13:return e.prev=13,console.log("Im inside the try block"),console.log(n),e.next=18,n.json();case 18:if(a=e.sent,r=a.image,console.log(a),console.log(r),console.log(a.name),console.log(a.image),console.log(a.description),console.log("Everything is good!"),!(a.image&&a.name&&a.description)){e.next=73;break}return console.log("Everything is good!"),console.log("Im executing get accounts method"),e.next=31,h.Z.eth.getAccounts();case 31:return l=e.sent,console.log("End of getAccounts"),e.next=35,p.Z.methods.createMkopo(t).send({from:l[0]});case 35:return i=e.sent,console.log(i),e.next=39,p.Z.methods.getDeployedMikopo().call();case 39:return c=e.sent,u=c[c.length-1],console.log(u),e.next=44,(0,g.Z)(u);case 44:return f=e.sent,console.log(f),console.log("Relief it seems something is good above here...."),console.log("This is the address of deployed contract of Mkopo"),console.log("I've about to mint the nft asset"),e.next=51,f.methods.mint(o).send({value:"100000000000000000",from:l[0]});case 51:return console.log("Already minted"),e.next=54,f.methods.tokenIdInit().call();case 54:m=e.sent,console.log("This is the tokenId of last added nft assets "+m),b=d.state.alreadyAddedAssets,y={tokenId:m,dataUrl:o},x=b.concat(y),console.log(x),console.log("Above is a data we want to populate iniside alreadyAddedAssets"),d.setState({alreadyAddedAssets:x}),console.log(d.state.alreadyAddedAssets),console.log("IM about to call preview method"),d.renderPreviewItems(d.state.alreadyAddedAssets),console.log("Tumepita kwenye renderPreview function..."),d.setState({loading:!1}),k=d.popElem.current,console.log(k),d.toHide.current.style.display="block",k.style.display="none",e.next=74;break;case 73:console.log("We have problem here"),d.setState({errorMessage:"Eithe we can't parse data in JSON format or problem in finding image metadata from parsed JSON."}),console.log(d.errorBlock.current),d.errorBlock.current.style.display="block",console.log(d.errorBlock.current),setTimeout((function(){d.errorBlock.current.style.display="none",d.setState({errorMessage:""})}),1e4),d.setState({loading:!1});case 74:console.log("Pasco tell us how we proceed!!!"),e.next=81;break;case 77:e.prev=77,e.t0=e.catch(13),console.log("Something went wrong we are in catch block"),d.setState({loading:!1});case 81:console.log("Pasco tell us how we proceed");case 82:e.next=91;break;case 84:e.prev=84,e.t1=e.catch(5),console.log("Im inside catch main"),d.setState({errorMessage:e.t1.message}),d.errorBlock.current.style.display="block",setTimeout((function(){d.errorBlock.current.style.display="none",d.setState({errorMessage:""})}),1e4),d.setState({loading:!1});case 91:case"end":return e.stop()}}),e,null,[[5,84],[13,77]])}))));var u=m(t);return k(m(t),"onSub2",y(s().mark((function e(){var t,o,n,a,r,l,i,c,d,f,m,b,y,x,k,w,v,j,_,I,C,O,S;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.setState({loading:!0}),t=u.state.jsonUrl,console.log(t),e.prev=3,e.next=6,p.Z.methods.getDeployedMikopo().call();case 6:if(0!=(o=e.sent).length){e.next=11;break}onSub1(),e.next=124;break;case 11:a=new Array,r=new Array,l=0;case 15:if(!(l<o.length)){e.next=28;break}return e.next=18,(0,g.Z)(o[l]);case 18:return i=e.sent,e.next=21,i.methods.owner().call();case 21:c=e.sent,a.push(c),r.push(c.toLowerCase()),c.toLowerCase()==u.props.address.toLowerCase()&&(n=o[l],console.log(n),u.setState({alreadyContainedAddress1:n}));case 25:l++,e.next=15;break;case 28:return e.next=30,(0,g.Z)(n);case 30:return d=e.sent,console.log(d),e.next=34,d.methods.getNFTIndexes().call();case 34:f=e.sent,console.log("This is the array of minted Metadata by this user"),console.log(f),console.log("This above is List of Indexes of minted asset"),m=new Array,b=0;case 40:if(!(b<f.length)){e.next=53;break}return y=u.props.address,console.log(y),console.log("Im about to......"),e.next=46,d.methods.nftData(f[b],y).call();case 46:x=e.sent,console.log("Im good now......"),console.log(x),m.push(x);case 50:b++,e.next=40;break;case 53:if(e.prev=53,!m.includes(t)){e.next=58;break}console.log("You should throw error.. since url is already possessed!"),A(!1),e.next=114;break;case 58:return console.log("Url is uniques its good"),e.next=61,fetch(t);case 61:if((k=e.sent).ok){e.next=66;break}console.log("Problem with this url"),u.setState({errorMessage:"Problem with this metadata, enter the valid url"}),console.log(u.errorBlock.current),u.errorBlock.current.style.display="block",console.log(u.errorBlock.current),setTimeout((function(){u.errorBlock.current.style.display="none",u.setState({errorMessage:""})}),1e4),u.setState({loading:!1}),e.next=114;break;case 66:return e.prev=66,e.next=69,k.json();case 69:if(w=e.sent,w.image,!(w.image&&w.name&&w.description)){e.next=101;break}return console.log("Everythingis good"),e.next=75,h.Z.eth.getAccounts();case 75:return v=e.sent,e.next=78,(0,g.Z)(u.state.alreadyContainedAddress);case 78:return j=e.sent,e.next=81,j.methods.mint(t).send({value:"100000000000000000",from:v[0]});case 81:return e.next=83,j.methods.tokenIdInit().call();case 83:_=e.sent,console.log("This is the tokenId of last added nft assets "+_),I=u.state.alreadyAddedAssets,C={tokenId:_,dataUrl:t},O=I.concat(C),console.log(O),console.log("Above is a data we want to populate iniside alreadyAddedAssets"),u.setState({alreadyAddedAssets:O}),console.log(u.state.alreadyAddedAssets),u.renderPreviewItems(u.state.alreadyAddedAssets),console.log("Tumepita kwenye renderPreview function..."),u.setState({loading:!1}),S=u.popElem1.current,console.log(S),u.toHide.current.style.display="block",S.style.display="none",e.next=102;break;case 101:console.log("We have problem here"),u.setState({loading:!1});case 102:e.next=113;break;case 104:e.prev=104,e.t0=e.catch(66),console.log("Something went wrong we are in a catch block"),u.setState({errorMessage:"Eithe we can't parse data in JSON format or problem in finding image metadata from parsed JSON."}),console.log(u.errorBlock.current),u.errorBlock.current.style.display="block",console.log(u.errorBlock.current),setTimeout((function(){u.errorBlock.current.style.display="none",u.setState({errorMessage:""})}),1e4),u.setState({loading:!1});case 113:console.log("Pasco tell us how we proceed!!!");case 114:e.next=124;break;case 116:e.prev=116,e.t1=e.catch(53),console.log("Im inside catch statement...The metadata url has already been added or minted, you can't mint more than one metadata url twice"),console.log("Im inside catch main"),u.setState({errorMessage:"Metadata URL already exitst, you can't mint one url twice!!"}),u.errorBlock.current.style.display="block",setTimeout((function(){u.errorBlock.current.style.display="none",u.setState({errorMessage:""})}),1e4),u.setState({loading:!1});case 124:e.next=133;break;case 126:e.prev=126,e.t2=e.catch(3),console.log("Im inside catch main"),u.setState({errorMessage:e.t2.message}),u.errorBlock.current.style.display="block",setTimeout((function(){u.errorBlock.current.style.display="none",u.setState({errorMessage:""})}),1e4),u.setState({loading:!1});case 133:case"end":return e.stop()}}),e,null,[[3,126],[53,116],[66,104]])})))),t.addElem=r.createRef(),t.popElem=r.createRef(),t.popElem1=r.createRef(),t.closeBtn=r.createRef(),t.toHide=r.createRef(),t.errorBlock=r.createRef(),t.previewWrapper=r.createRef(),t.previewWrapper1=r.createRef(),t.loadContainer=r.createRef(),t.closeButton=r.createRef(),t.loadContainer1=r.createRef(),t}return t=b,n=[{key:"getInitialProps",value:function(e){return y(s().mark((function t(){var o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.query.address,t.abrupt("return",{address:o});case 2:case"end":return t.stop()}}),t)})))()}}],(o=[{key:"render",value:function(){var e=this;return(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Z,{}),(0,a.jsxs)("section",{className:i().secStyles,children:[(0,a.jsxs)("div",{ref:this.toHide,children:[(0,a.jsx)("p",{className:i().title,children:"Fill below form to request fund from different lenders."}),(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)(d.Z.Group,{children:[(0,a.jsx)(d.Z.Input,{label:"Amount in Ether",placeholder:"Amount to borrow",width:6,onChange:function(t){return e.setState({amountToBorrow:t.target.value})}}),(0,a.jsx)(d.Z.Input,{label:"Duration to Payback",placeholder:"Duration in Days",width:6,onChange:function(t){return e.setState({durationToPayback:t.target.value})}})]}),(0,a.jsxs)("div",{className:i().imYourFather,children:[(0,a.jsxs)("p",{className:i().ca,children:["Collateral assets",(0,a.jsx)("span",{className:i().no,children:"(0)"})]}),(0,a.jsxs)("span",{className:i().btnWrapper,children:[(0,a.jsx)(u.Z,{icon:"cloud download",floated:"right",primary:!0,content:"Load",size:"mini",loading:this.state.loading1,onClick:this.onLoad}),(0,a.jsx)(u.Z,{icon:"add circle",loading:this.state.loading,floated:"right",primary:!0,content:"Add",size:"mini",onClick:this.onAdd,ref:this.addElem})]}),(0,a.jsx)("div",{className:i().previewWrapper,ref:this.previewWrapper,children:(0,a.jsx)("span",{className:i().msg,children:this.state.previewInitialMessage})}),(0,a.jsx)("div",{className:i().previewWrapper1,ref:this.previewWrapper1,children:this.state.urlObj.map((function(t,o){return(0,a.jsx)("div",{className:i().im,id:o,onClick:e.onDrop,children:(0,a.jsx)("img",{src:t,alt:o,width:200,height:200,className:i().pic})})}))})]})]}),(0,a.jsx)("div",{className:i().finishBtn,children:(0,a.jsx)(u.Z,{loading:this.state.bigBenzLoading,fluid:!0,color:"black",onClick:this.finishHim,children:"Finish"})})]}),(0,a.jsxs)("div",{className:i().addAssetsPopup,ref:this.popElem,children:[(0,a.jsx)("div",{className:i().closeBtn,ref:this.closeBtn,onClick:this.onRemove,children:"\xd7"}),(0,a.jsxs)("div",{className:i().form,children:[(0,a.jsx)("p",{className:i().addTit,children:"Add collateral asset."}),(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(d.Z.Group,{children:(0,a.jsx)(d.Z.Input,{label:"Name of Asset Collection",placeholder:"Assets referred from this name",width:14,onChange:function(t){return e.setState({nameOfNFT:t.target.value})}})}),(0,a.jsx)(d.Z.Group,{children:(0,a.jsx)(d.Z.Input,{label:"Metadata Url",placeholder:"Used to fetch metadata of given asset.",width:14,onChange:function(t){return e.setState({jsonUrl:t.target.value})}})}),(0,a.jsx)(u.Z,{icon:"add circle",content:"Add",color:"green",loading:this.state.loading,onClick:this.onSub1})]})]})]}),(0,a.jsxs)("div",{className:i().addAssetsPopup,ref:this.popElem1,children:[(0,a.jsx)("div",{className:i().closeBtn,ref:this.closeBtn,onClick:this.onRemove1,children:"\xd7"}),(0,a.jsxs)("div",{className:i().form,children:[(0,a.jsx)("p",{className:i().addTit,children:this.state.nameOfNFT}),(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(d.Z.Group,{children:(0,a.jsx)(d.Z.Input,{label:"Metadata Url",placeholder:"Used to fetch metadata of given asset.",width:14,onChange:function(t){return e.setState({jsonUrl:t.target.value})}})}),(0,a.jsx)(u.Z,{icon:"add circle",loading:this.state.loading,content:"Add",color:"green",onClick:this.onSub2})]})]})]}),(0,a.jsxs)("div",{className:"ui mini orange message ".concat(i().jumbe),ref:this.errorBlock,children:[(0,a.jsx)("i",{"aria-hidden":"true",className:"close icon"}),(0,a.jsx)("h4",{className:"header",children:"Oops!!"}),(0,a.jsx)("p",{children:this.state.errorMessage})]}),(0,a.jsxs)("div",{className:i().loadContainer,ref:this.loadContainer,children:[(0,a.jsx)("div",{className:i().closeButton,ref:this.closeButton,onClick:this.onRemove0,children:"\xd7"}),(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:i().loadTit,children:"Click NFT asset to add as Collateral asset."})}),this.state.pureLoadingCleanUrlWithImage.map((function(t,o){return(0,a.jsx)("div",{className:i().ima,id:o,onClick:e.onAddLoadedNft,children:(0,a.jsx)("img",{src:t,alt:o,width:200,height:200,className:i().pic1,title:"Click to add"})})}))]}),(0,a.jsxs)("div",{className:i().loadContainer1,ref:this.loadContainer1,children:[(0,a.jsx)("div",{className:i().closeButton1,ref:this.closeButton,onClick:this.onRemove7,children:"\xd7"}),(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:i().loadTit,children:"Click NFT asset to add as Collateral asset."})}),(0,a.jsx)("div",{className:i().nonce,children:(0,a.jsxs)("p",{children:["It seems either you have already added all of your nft assets as collateral assets, you have minted zero nft assets or both of these cases.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Click the button below to mint and add new asset as Collateral.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Z,{primary:!0,content:"Mint and Add"})]})})]})]})]})}}])&&x(t.prototype,o),n&&x(t,n),b}(r.Component);t.default=C},50262:function(e,t,o){"use strict";var n=o(37018)();n.add("/campaigns/new","/campaigns/new").add("/profile/:address","/pro/").add("/profile/:address/borrow","/borrow/").add("/campaigns/:address/requests","/campaigns/requests/index").add("/campaigns/:address/requests/new","/campaigns/requests/new"),e.exports=n},54347:function(e){e.exports={secStyles:"borrow_secStyles__B0u5h",title:"borrow_title__05qk7",imYourFather:"borrow_imYourFather__i3Vbo",ca:"borrow_ca__cDdyI",no:"borrow_no__IrF5V",previewWrapper:"borrow_previewWrapper__PZze_",previewWrapper1:"borrow_previewWrapper1__UyGgq",im:"borrow_im__pXo2Z",pic:"borrow_pic__YGYjR",pic1:"borrow_pic1__W2IyD",msg:"borrow_msg__z5gpd",cN:"borrow_cN__W9EpX",addTit:"borrow_addTit__LZ_ag",addAssetsPopup:"borrow_addAssetsPopup__SkNx7",closeBtn:"borrow_closeBtn__3mHDv",jumbe:"borrow_jumbe__L2pSR",loadContainer:"borrow_loadContainer__kXExQ",closeButton:"borrow_closeButton__yuFZZ",loadContainer1:"borrow_loadContainer1__TYJgT",closeButton1:"borrow_closeButton1__pb1Yk",loadTit:"borrow_loadTit__e3m5_",imgContainer:"borrow_imgContainer__9HAGo",ima:"borrow_ima__Uy1az",nonce:"borrow_nonce__T_ikH",finishBtn:"borrow_finishBtn__JGshC"}},59567:function(e){e.exports={sectionStyle:"css_sectionStyle__PYmYm",behaveLikenav:"css_behaveLikenav__E4R9A",inlineForm:"css_inlineForm__yG3Us",brand:"css_brand__AahfS",search:"css_search__gz_NK",searchIcon:"css_searchIcon__l0aLC",aboutUs:"css_aboutUs__CsMw0",proPic:"css_proPic__7xk1U",aboutGuide:"css_aboutGuide__ThVPH"}}},function(e){e.O(0,[774,482,714,587,379,819,532,697,888,179],(function(){return t=70024,e(e.s=t);var t}));var t=e.O();_N_E=t}]);